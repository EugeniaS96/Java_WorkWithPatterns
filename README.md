# Демонстрация работы с паттернами проектирования и стримами

## Работа со стримами
Для демонстрации работы со стримами были созданы классы Book и Student. 
Класс Book переопределяет методы equals и hasCode для возможности сравнения книг. 
Класс Student содержит поле List<Book>.

В классе WorkWithStreams был реализован метод demonstrateStreamOperations(), 
в котором были созданы объекты классов Book и Student, а также неизменяемый список студентов.

Далее коллекция students была преобразована к стриму для обработки.

## Методы стрима
Метод .peek() выводит в консоль каждый элемент стрима (каждого студента);
С помощью метода .flatMap() получаем для каждого студента список книг;
Метод .sorted() сортирует книги по количеству страниц (по возрастанию), использует метод getPages() для сравнения;
Метод .distinct() удаляет дубликаты книг;
Метод .filter() оставляет только книги, изданные после 2000 года;
Метод .limit() ограничивает поток первыми 3 элементами;
С помощью метода .peek() получаем из книг годы выпуска;
Метод .findAny() возвращает Optional от книги;
Метод .ifPresentOrElse() выводит  в консоль год выпуска найденной книги, либо запись о том, что такая книга отсутствует.


## Работа с паттернами проектирования
Для демонстрации работы с паттернами проектирования используются классы Book, Bookstore, Configuration, ConfigurationProxy,
Customer, HomeDeliveryBookstoreDecorator, OnlineBookstoreDecorator.
А также интерфейсы Observer и Publisher.

В данных классах реализованы паттерны Builder, Singletone, Observer, Proxy и Decorator.

Паттерн Builder используется в классе Book, в котором присутсвуют два опциональных поля со значением по умолчанию.
Observer реализован в классе Bookstore, чтобы уведомлять Customer о новых поступлениях книг.
Decorator использован в классах OnlineBookstoreDecorator и HomeDeliveryHomeDecorator для добавления функциональности.
Singleton и Proxy применяется для Configuration.

В классе WorkWithStreams был реализован метод demonstratePatternsOperations(), в котором: 
- был создан прокси для обычного пользователя и администратора, а далее попытки получить конфигурацию для пользователя
  и изменить конфигурацию пользователем и администратором;
- были созданы два покупателя, книжный магазин и произведена подписка покупателей на уведомления,
  далее добавлена функциональность онлайн продажи и доставки;
- были созданы и добавлены в магазин две книги, произведена продажа онлайн и доставка на дом. 

## Функции паттернов проектирования
Builder позволяет гибко создавать объекты Book с разным набором параметров;
Singleton используется для гарантии единственного экземпляра конфигурации в системе, предоставляя глобальную точку доступа к настройкам;
Proxy контролирует доступ к конфигурации (пользователь vs администратор);
Observer уведомляет покупателей о новых книгах через subscribe/addBook;
Decorator добавляет новую функциональность (onlineBookStore, homeDeliveryBookStore) без изменения основного класса.






